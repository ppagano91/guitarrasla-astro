---
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
  const url = `${import.meta.env.PUBLIC_API_URL}/guitarras?populate=imagen`;
  const respuesta = await fetch(url);
  const { data } = await respuesta.json();
  /*    Esta función debe retornar un arreglo de objetos con la siguiente estructura.
        La función map retorna un arreglo
        params es para el routing dinámico y props para las propiedades enviadas
  */
  return data.map((guitarra) => ({
    params: {
      id: guitarra.attributes.url,
    },
    props: {
      guitarra: guitarra.attributes,
    },
  }));
}
---

<Layout
  title="Tienda Virtual"
  description="Página de tienda de instrumentos musicales, blog y más"
>
  <main>
    <h1></h1>
  </main>
</Layout>
